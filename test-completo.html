<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>?? Test Completo - Sistema Hospital</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 1rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            background: white;
            padding: 2rem;
            border-radius: 1.5rem;
            box-shadow: 0 25px 50px rgba(0,0,0,0.25);
        }
        .header {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #e5e7eb;
        }
        .status-bar {
            background: #f8fafc;
            padding: 1rem;
            border-radius: 0.75rem;
            margin-bottom: 2rem;
            border-left: 4px solid #2563eb;
        }
        .test-grid {
            display: grid;
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        .test-section {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 1rem;
            padding: 1.5rem;
            transition: all 0.3s ease;
        }
        .test-section:hover {
            border-color: #2563eb;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .test-section h3 {
            margin: 0 0 0.5rem 0;
            color: #1f2937;
            font-size: 1.125rem;
        }
        .test-section p {
            margin: 0 0 1rem 0;
            color: #6b7280;
            font-size: 0.875rem;
        }
        .btn {
            background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            cursor: pointer;
            font-size: 0.875rem;
            font-weight: 600;
            width: 100%;
            margin-bottom: 0.5rem;
            transition: all 0.2s;
        }
        .btn:hover {
            background: linear-gradient(135deg, #1d4ed8 0%, #1e40af 100%);
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(37, 99, 235, 0.3);
        }
        .btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
            transform: none;
        }
        .btn-success {
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
        }
        .btn-success:hover {
            background: linear-gradient(135deg, #047857 0%, #065f46 100%);
        }
        .btn-warning {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }
        .btn-danger {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        }
        .result {
            background: #f1f5f9;
            padding: 1rem;
            border-radius: 0.5rem;
            margin-top: 1rem;
            white-space: pre-wrap;
            font-family: 'Courier New', monospace;
            font-size: 0.75rem;
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #e2e8f0;
            display: none;
        }
        .result.success {
            background: #f0fdf4;
            border-color: #22c55e;
            color: #15803d;
        }
        .result.error {
            background: #fef2f2;
            border-color: #ef4444;
            color: #dc2626;
        }
        .result.warning {
            background: #fffbeb;
            border-color: #f59e0b;
            color: #d97706;
        }
        .result.info {
            background: #eff6ff;
            border-color: #3b82f6;
            color: #1e40af;
        }
        .progress-bar {
            width: 100%;
            height: 4px;
            background: #e5e7eb;
            border-radius: 2px;
            overflow: hidden;
            margin: 1rem 0;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #2563eb, #059669);
            width: 0%;
            transition: width 0.3s ease;
        }
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        .summary-card {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border: 1px solid #0ea5e9;
            border-radius: 0.75rem;
            padding: 1rem;
            text-align: center;
        }
        .summary-number {
            font-size: 2rem;
            font-weight: bold;
            color: #0c4a6e;
            margin: 0;
        }
        .summary-label {
            font-size: 0.875rem;
            color: #0369a1;
            margin: 0;
        }
        h1 {
            color: #1f2937;
            margin: 0 0 0.5rem 0;
        }
        .subtitle {
            color: #6b7280;
            margin: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>?? Test Completo del Sistema Hospital</h1>
            <p class="subtitle">Diagnostico integral de Netlify Functions + Airtable</p>
        </div>

        <div class="status-bar">
            <h3 style="margin: 0 0 0.5rem 0; color: #1f2937;">?? Estado del Sistema</h3>
            <p style="margin: 0;"><strong>Sitio:</strong> <span id="site-url"></span></p>
            <p style="margin: 0;"><strong>Hostname:</strong> <span id="hostname"></span></p>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-bar"></div>
            </div>
            <p style="margin: 0.5rem 0 0 0; font-size: 0.75rem; color: #6b7280;">Progreso de tests: <span id="progress-text">0/0 completados</span></p>
        </div>

        <div class="quick-actions">
            <button class="btn btn-success" onclick="runAllTests()">
                ?? Ejecutar Todos los Tests
            </button>
            <button class="btn btn-warning" onclick="runCriticalTests()">
                ? Solo Tests Criticos
            </button>
            <button class="btn" onclick="resetAllTests()">
                ?? Resetear Tests
            </button>
        </div>

        <div class="test-grid">
            <!-- Test 1: Hello Function -->
            <div class="test-section">
                <h3>?? Test 1: Funcion Hello</h3>
                <p>Verifica que las funciones Netlify esten desplegadas correctamente.</p>
                <button class="btn" onclick="testHelloFunction()" id="btn-hello">
                    ?? Probar Funcion Hello
                </button>
                <div id="hello-result" class="result"></div>
            </div>

            <!-- Test 2: Config Function -->
            <div class="test-section">
                <h3>?? Test 2: Variables de Entorno</h3>
                <p>Confirma que las variables de Airtable esten configuradas en Netlify.</p>
                <button class="btn" onclick="testConfigFunction()" id="btn-config">
                    ?? Verificar Variables
                </button>
                <div id="config-result" class="result"></div>
            </div>

            <!-- Test 3: Simple Debug -->
            <div class="test-section">
                <h3>?? Test 3: Debug Simple Airtable</h3>
                <p><strong>TEST CRITICO:</strong> Encuentra que tablas existen y funcionan en Airtable.</p>
                <button class="btn btn-success" onclick="testSimpleDebug()" id="btn-simple">
                    ?? Debug Tablas Airtable
                </button>
                <div id="simple-result" class="result"></div>
            </div>

            <!-- Test 4: Airtable Proxy -->
            <div class="test-section">
                <h3>?? Test 4: Proxy Airtable</h3>
                <p>Prueba el proxy corregido con la tabla confirmada que funciona.</p>
                <button class="btn" onclick="testAirtableProxy()" id="btn-proxy">
                    ?? Probar Proxy Airtable
                </button>
                <div id="proxy-result" class="result"></div>
            </div>

            <!-- Test 5: Integration Test -->
            <div class="test-section">
                <h3>?? Test 5: Integracion Completa</h3>
                <p>Test final usando airtable-config.js como lo haria el sistema real.</p>
                <button class="btn" onclick="testFullIntegration()" id="btn-integration">
                    ?? Test de Integracion
                </button>
                <div id="integration-result" class="result"></div>
            </div>
        </div>

        <!-- Resumen de resultados -->
        <div class="quick-actions" id="summary-section" style="display: none;">
            <div class="summary-card">
                <p class="summary-number" id="tests-passed">0</p>
                <p class="summary-label">Tests Exitosos</p>
            </div>
            <div class="summary-card">
                <p class="summary-number" id="tests-failed">0</p>
                <p class="summary-label">Tests Fallidos</p>
            </div>
            <div class="summary-card">
                <p class="summary-number" id="tables-found">0</p>
                <p class="summary-label">Tablas Funcionando</p>
            </div>
        </div>
    </div>

    <!-- Incluir airtable-config.js para test de integracion -->
    <script src="airtable-config.js"></script>

    <script>
        // Variables globales
        let testResults = {
            hello: null,
            config: null,
            simple: null,
            proxy: null,
            integration: null
        };
        
        let workingTables = [];
        let recommendedTable = null;

        // Inicializar pagina
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('site-url').textContent = window.location.href;
            document.getElementById('hostname').textContent = window.location.hostname;
            updateProgress();
        });

        function showResult(elementId, content, type = 'info') {
            const element = document.getElementById(elementId);
            element.style.display = 'block';
            element.textContent = content;
            element.className = `result ${type}`;
        }

        function updateProgress() {
            const completed = Object.values(testResults).filter(r => r !== null).length;
            const total = Object.keys(testResults).length;
            const percentage = total > 0 ? (completed / total) * 100 : 0;
            
            document.getElementById('progress-bar').style.width = percentage + '%';
            document.getElementById('progress-text').textContent = `${completed}/${total} completados`;
            
            if (completed > 0) {
                updateSummary();
            }
        }

        function updateSummary() {
            const passed = Object.values(testResults).filter(r => r === true).length;
            const failed = Object.values(testResults).filter(r => r === false).length;
            
            document.getElementById('tests-passed').textContent = passed;
            document.getElementById('tests-failed').textContent = failed;
            document.getElementById('tables-found').textContent = workingTables.length;
            document.getElementById('summary-section').style.display = 'grid';
        }

        // TEST 1: Hello Function
        async function testHelloFunction() {
            const btn = document.getElementById('btn-hello');
            btn.disabled = true;
            btn.textContent = '?? Probando...';
            
            showResult('hello-result', '?? Ejecutando test de funcion hello...', 'info');
            
            try {
                const response = await fetch('/.netlify/functions/hello');
                
                if (response.ok) {
                    const data = await response.json();
                    const output = `? FUNCION HELLO EXITOSA

?? STATUS: ${response.status} ${response.statusText}
?? MENSAJE: ${data.message}
? TIMESTAMP: ${data.timestamp}

?? ENVIRONMENT:
¡E Node Version: ${data.environment?.nodeVersion || 'N/A'}
¡E Has Airtable Key: ${data.environment?.hasAirtableKey ? '?' : '?'}
¡E Has Airtable Base: ${data.environment?.hasAirtableBase ? '?' : '?'}

?? NETLIFY INFO:
¡E Region: ${data.netlifyInfo?.region || 'N/A'}`;

                    showResult('hello-result', output, 'success');
                    testResults.hello = true;
                } else {
                    const errorText = await response.text();
                    showResult('hello-result', `? ERROR ${response.status}: ${errorText}`, 'error');
                    testResults.hello = false;
                }
            } catch (error) {
                showResult('hello-result', `?? ERROR DE CONEXION: ${error.message}`, 'error');
                testResults.hello = false;
            }
            
            btn.disabled = false;
            btn.textContent = '?? Probar Funcion Hello';
            updateProgress();
        }

        // TEST 2: Config Function
        async function testConfigFunction() {
            const btn = document.getElementById('btn-config');
            btn.disabled = true;
            btn.textContent = '?? Verificando...';
            
            showResult('config-result', '?? Verificando variables de entorno...', 'info');
            
            try {
                const response = await fetch('/.netlify/functions/test-config');
                
                if (response.ok) {
                    const data = await response.json();
                    const output = `? VARIABLES CONFIGURADAS CORRECTAMENTE

?? API KEY: ${data.environment?.hasApiKey ? '? Configurada' : '? Faltante'}
?? BASE ID: ${data.environment?.hasBaseId ? '? Configurada' : '? Faltante'}

?? DETALLES:
¡E API Key Preview: ${data.environment?.apiKeyPreview || 'N/A'}
¡E Base ID: ${data.environment?.baseId || 'N/A'}
¡E Timestamp: ${data.timestamp}

?? NETLIFY:
¡E Region: ${data.netlify?.region || 'N/A'}
¡E Function: ${data.netlify?.functionName?.substring(0, 10) || 'N/A'}...`;

                    showResult('config-result', output, data.environment?.hasApiKey && data.environment?.hasBaseId ? 'success' : 'error');
                    testResults.config = data.environment?.hasApiKey && data.environment?.hasBaseId;
                } else {
                    const errorText = await response.text();
                    showResult('config-result', `? ERROR ${response.status}: ${errorText}`, 'error');
                    testResults.config = false;
                }
            } catch (error) {
                showResult('config-result', `?? ERROR: ${error.message}`, 'error');
                testResults.config = false;
            }
            
            btn.disabled = false;
            btn.textContent = '?? Verificar Variables';
            updateProgress();
        }

        // TEST 3: Simple Debug (EL MAS IMPORTANTE)
        async function testSimpleDebug() {
            const btn = document.getElementById('btn-simple');
            btn.disabled = true;
            btn.textContent = '?? Analizando tablas...';
            
            showResult('simple-result', '?? Ejecutando analisis completo de tablas en Airtable...', 'info');
            
            try {
                const response = await fetch('/.netlify/functions/simple-debug');
                
                if (response.ok) {
                    const data = await response.json();
                    
                    workingTables = data.workingTables || [];
                    recommendedTable = data.bestTable;
                    
                    let output = `?? ANALISIS COMPLETO DE AIRTABLE

?? CONFIGURACION:
¡E API Key: ${data.configuration?.apiKeyConfigured ? '? Configurada' : '? Faltante'}
¡E Base ID: ${data.configuration?.baseIdConfigured ? '? Configurada' : '? Faltante'}
¡E Base: ${data.configuration?.baseId || 'N/A'}

?? RESULTADOS:
¡E Total tablas probadas: ${data.tableTests?.total || 0}
¡E Tablas funcionando: ${data.tableTests?.successful || 0}
¡E Tablas fallidas: ${data.tableTests?.failed || 0}
`;

                    if (workingTables.length > 0) {
                        output += `\n? TABLAS QUE FUNCIONAN:\n`;
                        workingTables.forEach(table => {
                            output += `¡E ${table.tableName} (${table.recordCount} records)${table.hasData ? ' ??' : ' ??'}\n`;
                            if (table.sampleFields && table.sampleFields.length > 0) {
                                output += `  Campos: ${table.sampleFields.slice(0, 3).join(', ')}${table.sampleFields.length > 3 ? '...' : ''}\n`;
                            }
                        });
                        
                        output += `\n?? RECOMENDACION: ${data.recommendation}\n`;
                        
                        if (recommendedTable) {
                            output += `\n? MEJOR TABLA PARA USAR: "${recommendedTable.tableName}"\n`;
                            output += `¡E Records: ${recommendedTable.recordCount}\n`;
                            output += `¡E Tiene datos: ${recommendedTable.hasData ? '? Si' : '? No'}\n`;
                        }
                    } else {
                        output += `\n? NO SE ENCONTRARON TABLAS FUNCIONANDO\n`;
                        
                        if (data.failedTables && data.failedTables.length > 0) {
                            output += `\n?? ERRORES ENCONTRADOS:\n`;
                            data.failedTables.slice(0, 3).forEach(table => {
                                output += `¡E ${table.tableName}: ${table.status}\n`;
                                if (table.errorType) {
                                    output += `  Tipo: ${table.errorType}\n`;
                                }
                            });
                        }
                    }

                    showResult('simple-result', output, workingTables.length > 0 ? 'success' : 'error');
                    testResults.simple = workingTables.length > 0;
                } else {
                    const errorText = await response.text();
                    showResult('simple-result', `? ERROR ${response.status}: ${errorText}`, 'error');
                    testResults.simple = false;
                }
            } catch (error) {
                showResult('simple-result', `?? ERROR: ${error.message}`, 'error');
                testResults.simple = false;
            }
            
            btn.disabled = false;
            btn.textContent = '?? Debug Tablas Airtable';
            updateProgress();
        }

        // TEST 4: Airtable Proxy
        async function testAirtableProxy() {
            const btn = document.getElementById('btn-proxy');
            btn.disabled = true;
            btn.textContent = '?? Probando proxy...';
            
            showResult('proxy-result', '?? Probando proxy de Airtable...', 'info');
            
            // Usar tabla recomendada si esta disponible
            const tableToTest = recommendedTable ? recommendedTable.tableName : 'Solicitudes';
            
            try {
                const response = await fetch(`/.netlify/functions/airtable-proxy/${tableToTest}?maxRecords=1`);
                
                if (response.ok) {
                    const data = await response.json();
                    const output = `? PROXY AIRTABLE FUNCIONANDO

?? TABLA PROBADA: "${tableToTest}"
?? STATUS: ${response.status} ${response.statusText}
?? RECORDS OBTENIDOS: ${data.records?.length || 0}

?? DATOS OBTENIDOS:
${JSON.stringify(data, null, 2)}

?? !EL PROXY ESTA FUNCIONANDO CORRECTAMENTE!`;

                    showResult('proxy-result', output, 'success');
                    testResults.proxy = true;
                } else {
                    const errorText = await response.text();
                    let parsedError;
                    try {
                        parsedError = JSON.parse(errorText);
                    } catch (e) {
                        parsedError = errorText;
                    }

                    const output = `? ERROR EN PROXY AIRTABLE

?? TABLA PROBADA: "${tableToTest}"
?? STATUS: ${response.status} ${response.statusText}

?? ERROR DETALLADO:
${typeof parsedError === 'object' ? JSON.stringify(parsedError, null, 2) : parsedError}

?? POSIBLES CAUSAS:
¡E Proxy no actualizado con la correccion
¡E Tabla "${tableToTest}" no existe
¡E Problema de permisos especifico`;

                    showResult('proxy-result', output, 'error');
                    testResults.proxy = false;
                }
            } catch (error) {
                showResult('proxy-result', `?? ERROR DE CONEXION: ${error.message}`, 'error');
                testResults.proxy = false;
            }
            
            btn.disabled = false;
            btn.textContent = '?? Probar Proxy Airtable';
            updateProgress();
        }

        // TEST 5: Integration Test
        async function testFullIntegration() {
            const btn = document.getElementById('btn-integration');
            btn.disabled = true;
            btn.textContent = '?? Integrando...';
            
            showResult('integration-result', '?? Ejecutando test de integracion completa...', 'info');
            
            try {
                // Esperar un poco para que airtable-config.js se cargue completamente
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                // Verificar si airtable-config.js esta cargado
                const hasAirtableAPI = typeof window.airtableAPI !== 'undefined';
                const hasDebugFunction = typeof window.debugAirtableConnection === 'function';
                
                let output = `?? TEST DE INTEGRACION COMPLETA

?? VERIFICACION DE CARGA:
¡E airtable-config.js incluido: ${document.querySelector('script[src*="airtable-config"]') ? '? Si' : '? No'}
¡E window.airtableAPI disponible: ${hasAirtableAPI ? '? Si' : '? No'}
¡E debugAirtableConnection disponible: ${hasDebugFunction ? '? Si' : '? No'}
`;

                if (hasAirtableAPI && hasDebugFunction) {
                    // Ejecutar test de integracion
                    const status = window.debugAirtableConnection();
                    
                    output += `
?? RESULTADO DEL DEBUG:
¡E Conectado: ${status.isConnected ? '? Si' : '? No'}
¡E Entorno: ${status.environment || 'N/A'}
¡E Hostname: ${status.hostname || 'N/A'}
¡E Proxy habilitado: ${status.useProxy ? '? Si' : '? No'}
¡E Tabla confirmada: ${status.confirmedTable || 'N/A'}

?? ESTADO DETALLADO:
${JSON.stringify(status, null, 2)}

${status.isConnected ? '?? !INTEGRACION COMPLETAMENTE EXITOSA!' : '?? Integracion parcial - revisar conexion'}`;

                    showResult('integration-result', output, status.isConnected ? 'success' : 'warning');
                    testResults.integration = status.isConnected;
                    
                } else if (hasAirtableAPI && !hasDebugFunction) {
                    // airtableAPI existe pero no debugAirtableConnection
                    output += `
?? PROBLEMA PARCIAL:
¡E window.airtableAPI esta disponible
¡E Pero debugAirtableConnection no existe

?? INTENTANDO TEST ALTERNATIVO:
`;
                    
                    try {
                        const status = window.airtableAPI.getStatus();
                        output += `¡E getStatus() funciona: ? Si
¡E Estado: ${JSON.stringify(status, null, 2)}`;
                        
                        showResult('integration-result', output, 'warning');
                        testResults.integration = true;
                    } catch (error) {
                        output += `¡E Error en getStatus(): ${error.message}`;
                        showResult('integration-result', output, 'error');
                        testResults.integration = false;
                    }
                    
                } else {
                    // airtable-config.js no esta cargado correctamente
                    output += `
? PROBLEMA DE CARGA:
airtable-config.js no esta cargado o no se ejecuto correctamente

?? PASOS PARA SOLUCIONAR:
1. Verificar que airtable-config.js existe en la raiz del proyecto
2. Verificar que no hay errores de JavaScript en la consola
3. Verificar que el archivo se esta sirviendo correctamente
4. Refrescar la pagina (Ctrl+F5)

?? TEST BASICO DE CONECTIVIDAD:
Probando conexion directa sin airtable-config.js...`;

                    // Test basico sin airtable-config.js
                    try {
                        const response = await fetch('/.netlify/functions/simple-debug');
                        if (response.ok) {
                            const data = await response.json();
                            output += `

? CONECTIVIDAD BASICA FUNCIONA:
¡E Simple Debug: ? Responde
¡E Tablas funcionando: ${data.workingTables?.length || 0}
¡E Recomendacion: ${data.recommendation || 'N/A'}

?? CONCLUSION: El backend funciona, solo falta cargar airtable-config.js correctamente`;
                            showResult('integration-result', output, 'warning');
                            testResults.integration = false; // Tecnicamente fallo la integracion
                        } else {
                            output += `\n? Simple Debug fallo: ${response.status}`;
                            showResult('integration-result', output, 'error');
                            testResults.integration = false;
                        }
                    } catch (error) {
                        output += `\n? Error en test basico: ${error.message}`;
                        showResult('integration-result', output, 'error');
                        testResults.integration = false;
                    }
                }
                
            } catch (error) {
                const output = `?? ERROR EN INTEGRACION: ${error.message}

?? Stack trace:
${error.stack}

?? DIAGNOSTICO:
¡E Tipo de error: ${error.name}
¡E Momento del error: Durante test de integracion
¡E Estado de window.airtableAPI: ${typeof window.airtableAPI}
¡E Estado de debugAirtableConnection: ${typeof window.debugAirtableConnection}`;

                showResult('integration-result', output, 'error');
                testResults.integration = false;
            }
            
            btn.disabled = false;
            btn.textContent = '?? Test de Integracion';
            updateProgress();
        }

        // Funciones auxiliares
        async function runAllTests() {
            await testHelloFunction();
            await new Promise(resolve => setTimeout(resolve, 1000));
            await testConfigFunction();
            await new Promise(resolve => setTimeout(resolve, 1000));
            await testSimpleDebug();
            await new Promise(resolve => setTimeout(resolve, 1000));
            await testAirtableProxy();
            await new Promise(resolve => setTimeout(resolve, 1000));
            await testFullIntegration();
        }

        async function runCriticalTests() {
            await testConfigFunction();
            await new Promise(resolve => setTimeout(resolve, 1000));
            await testSimpleDebug();
            await new Promise(resolve => setTimeout(resolve, 1000));
            await testAirtableProxy();
        }

        function resetAllTests() {
            testResults = {
                hello: null,
                config: null,
                simple: null,
                proxy: null,
                integration: null
            };
            
            workingTables = [];
            recommendedTable = null;
            
            // Ocultar todos los resultados
            document.querySelectorAll('.result').forEach(result => {
                result.style.display = 'none';
            });
            
            // Resetear botones
            document.querySelectorAll('.btn').forEach(btn => {
                btn.disabled = false;
            });
            
            updateProgress();
            document.getElementById('summary-section').style.display = 'none';
        }

        // Auto-ejecutar test critico al cargar
        window.addEventListener('load', function() {
            console.log('?? Test completo cargado');
            console.log('?? Sitio:', window.location.href);
            
            // Auto-ejecutar simple debug despues de 3 segundos
            setTimeout(() => {
                console.log('?? Auto-ejecutando simple debug...');
                testSimpleDebug();
            }, 3000);
        });
    </script>
</body>
</html>